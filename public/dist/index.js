let fillColor,plan=!1,stateValues={};function getStates(){console.log("Getting states...");var e=$(".member-name").text();console.log(e),$.get("/api/states/"+e).then(e=>{console.log(e),stateValues=e,generateMap(stateValues)})}function generateMap(i){console.log(i),$("#map").empty(),fillColor=plan?"#0000ff":"#ff0000",$("#map").vectorMap({map:"us_aea",backgroundColor:"none",zoomOnScroll:!1,regionsSelectable:!0,regionStyle:{initial:{fill:"white","fill-opacity":1,stroke:"black","stroke-width":1,"stroke-opacity":1},hover:{fill:"red","fill-opacity":.3,cursor:"pointer"},selected:{fill:fillColor,"fill-opacity":1},selectedHover:{}},series:{regions:[{scale:{visited:"#ff0000",planned:"#0000ff"},attribute:"fill",values:i,legend:{horizontal:!0,title:"Legend"}}]},onRegionSelected:function(e,t,l,o){var a;$(".jvectormap-tip").remove(),plan?(a=$(".member-name").text(),Object.assign(i,{[t]:"planned"}),$.post("/api/planned/"+a+"/"+t,e=>{console.log(e)})):(a=$(".member-name").text(),Object.assign(i,{[t]:"visited"}),$.post("/api/visited/"+a+"/"+t,e=>{console.log(e)})),generateMap(i)}})}$(window).on("load",()=>{getStates()}),$("#plan").on("click",e=>{e.preventDefault(),plan?(plan=!1,$("#plan").text("Press to Select the States You Want to Visit"),$("#user-direction").text("Click the States Below that You've Visited")):(plan=!0,$("#plan").text("Press to Select the States You've Visited"),$("#user-direction").text("Click the States Below that You Want to Visit")),generateMap(stateValues)});